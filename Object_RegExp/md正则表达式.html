<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>正则表达式</title>
</head>
<body>
<div id="wmd-preview" class="wmd-preview"><div class="md-section-divider"></div><div class="md-section-divider"></div><h1 data-anchor-id="285x" id="正则表达式">正则表达式</h1><p data-anchor-id="rkiy"><code>正则</code></p><hr><div class="md-section-divider"></div><h3 data-anchor-id="zllj" id="1-创建正则表达式"><strong>1. 创建正则表达式</strong></h3><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="7fpt"><ol class="linenums"><li class="L0"><code class="language-javascript"></code></li><li class="L1"><code class="language-javascript"><span class="kwd">var</span><span class="pln"> re</span><span class="pun">=</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">RegExp</span><span class="pun">();</span></code></li><li class="L2"><code class="language-javascript"><span class="com">//这样做是没有效果的。需要将内容传入</span></code></li><li class="L3"><code class="language-javascript"><span class="pln">re</span><span class="pun">=</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">RegExp</span><span class="pun">(</span><span class="str">'a'</span><span class="pun">);</span></code></li><li class="L4"><code class="language-javascript"><span class="com">//最简单的正则表达式，匹配字符：a</span></code></li><li class="L5"><code class="language-javascript"><span class="pln">re</span><span class="pun">=</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">RegExp</span><span class="pun">(</span><span class="str">'a'</span><span class="pun">,</span><span class="str">'i'</span><span class="pun">)</span></code></li><li class="L6"><code class="language-javascript"><span class="com">//第二个参数，表示匹配的时候不区分大小写</span></code></li></ol></pre><blockquote data-anchor-id="k7sd" class="white-blockquote">
  <ul>
  <li>1.使用var re=new RegExp()创建正则表达式</li>
  </ul>
</blockquote><p data-anchor-id="5djd">RegExp构造函数的第一个参数为正则表达式的文本内容，第二个参数为可选的标志，可以组合使用</p><blockquote data-anchor-id="865z" class="white-blockquote">
  <ul>
  <li class="todo-list-item">-<i class="icon-check-sign"></i> "g"进行全文查找</li>
  <li class="todo-list-item">-<i class="icon-check-sign"></i> "i"忽略大小写</li>
  <li class="todo-list-item">-<i class="icon-check-sign"></i> "m"多行查找</li>
  </ul>
</blockquote><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="k6lk"><ol class="linenums"><li class="L0"><code class="language-javascript"><span class="kwd">var</span><span class="pln"> re</span><span class="pun">=</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">RegExp</span><span class="pun">(</span><span class="str">'a'</span><span class="pun">,</span><span class="str">'gi'</span><span class="pun">);</span></code></li><li class="L1"><code class="language-javascript"><span class="com">//匹配全文中所有的大写或者小写的a</span></code></li></ol></pre><blockquote data-anchor-id="syb5" class="white-blockquote">
  <ul>
  <li>2.使用字面量的方式创建正则表达式 <br>
  var re=/a/gi;同样匹配所有的a</li>
  </ul>
</blockquote><div class="md-section-divider"></div><h2 data-anchor-id="dtof" id="注当匹配的正则表达式需要利用变量即需要字符串拼接的时候只能使用new的方法来调用不能使用字面量">注：当匹配的正则表达式需要利用变量，即需要字符串拼接的时候，只能使用new的方法来调用，不能使用字面量</h2><p data-anchor-id="iiyi">如： <br>
在函数内，正则匹配的是参数的时候，就不能用字面量</p><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="yfdz"><ol class="linenums"><li class="L0"><code class="language-javascript"></code></li><li class="L1"><code class="language-javascript"><span class="kwd">function</span><span class="pun">(</span><span class="pln">className</span><span class="pun">){</span></code></li><li class="L2"><code class="language-javascript"><span class="pln">    </span><span class="kwd">var</span><span class="pln"> re</span><span class="pun">=</span><span class="str">/\bclassName/</span><span class="pln">b</span><span class="pun">;</span><span class="com">//这种是错误的它只会匹配className这几个字符</span></code></li><li class="L3"><code class="language-javascript"><span class="pln">    </span><span class="pun">需要用实例来写：</span></code></li><li class="L4"><code class="language-javascript"><span class="pln">    </span><span class="kwd">var</span><span class="pln"> re</span><span class="pun">=</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">RegExp</span><span class="pun">(</span><span class="str">'\\b'</span><span class="pun">+</span><span class="pln">className</span><span class="pun">+</span><span class="str">'\\b'</span><span class="pun">)</span></code></li><li class="L5"><code class="language-javascript"><span class="pln">    </span><span class="pun">这样才能传参</span></code></li><li class="L6"><code class="language-javascript"><span class="pln">    </span><span class="pun">但是需要注意：</span><span class="pln">\b</span><span class="pun">在字符串例是有转义的，所以要加一个</span><span class="pln">\</span></code></li><li class="L7"><code class="language-javascript"></code></li><li class="L8"><code class="language-javascript"></code></li><li class="L9"><code class="language-javascript"><span class="pun">}</span></code></li></ol></pre><hr><div class="md-section-divider"></div><h3 data-anchor-id="7m3a" id="2-正则中的元字符"><strong>2. 正则中的元字符</strong></h3><blockquote data-anchor-id="cre0" class="white-blockquote">
  <ul>
  <li class="todo-list-item">-<i class="icon-check-sign"></i>- “^”表示行首，字符必须按照规定的形式开头，放在第一个"/"的后面：/^...</li>
  <li class="todo-list-item">-<i class="icon-check-sign"></i>-  “<span>$</span>”表示必须以<span>$</span>前面的为结尾，放在最后一个"/"的前面:...<span>$</span>/gi</li>
  <li class="todo-list-item">-<i class="icon-check-sign"></i>- “+”在正则中不是拼接或者连接的意思，而是放在某个规则的后面，表示这个规则出现的次数为至少出现一次：/^[a-z]+... 这里表示第一个字符必须以字母开头，并且至少出现一次，可以出现多次(字母)</li>
  <li class="todo-list-item">-<i class="icon-check-sign"></i>- “\d”表示一个数字\d+表示一个或者多个数字</li>
  <li class="todo-list-item">-<i class="icon-check-sign"></i>- “\s”表示一个空白符\d+表示一个或者多个空格或换行或Tab等</li>
  <li class="todo-list-item">-<i class="icon-check-sign"></i>- “\w”表示一个数字、字母或者_;</li>
  <li class="todo-list-item">-<i class="icon-check-sign"></i>- “\D”表示一个非数字[^0-9]</li>
  <li class="todo-list-item">-<i class="icon-check-sign"></i>- “\W”表示一个非字母[^a-zA-Z]</li>
  <li class="todo-list-item">-<i class="icon-check-sign"></i>- “\S”表示一个非空白符</li>
  </ul>
</blockquote><hr><hr><div class="md-section-divider"></div><h3 data-anchor-id="g9gm" id="3-字符串利用正则的方法"><strong>3. 字符串利用正则的方法</strong></h3><div class="md-section-divider"></div><h4 data-anchor-id="3ybv" id="这些都是能够利用正则的字符串方法"><strong>这些都是能够利用正则的<em>字符串</em>方法</strong></h4><p data-anchor-id="fwps">1 . str.search()</p><blockquote data-anchor-id="q6cq" class="white-blockquote">
  <ul>
  <li>1 . 方法是做什么的 <br>
      用来查找字符串中某段字符所在的位置，用法同indexOf，不同之处在于indexOf无法传入正则表达式，而search却可以</li>
  <li>2 . 参数：正则表达式，或者特定的字符串</li>
  <li>3 . 返回值：number（与indexOf相同，找到匹配的字符首次出现的位置，并返回其下标，如果没有找到，返回-1）</li>
  </ul>
</blockquote><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="hkjs"><ol class="linenums"><li class="L0"><code class="language-javascript"><span class="pln">search</span><span class="pun">方法：与</span><span class="pln">indexOf</span><span class="pun">相似，都是查找字符串</span></code></li><li class="L1"><code class="language-javascript"><span class="pln">    </span><span class="kwd">var</span><span class="pln"> str </span><span class="pun">=</span><span class="pln"> </span><span class="str">'m3iaovk3etang12'</span><span class="pun">;</span></code></li><li class="L2"><code class="language-javascript"><span class="pln">    </span><span class="kwd">var</span><span class="pln"> re </span><span class="pun">=</span><span class="pln"> </span><span class="str">/3/</span><span class="pun">;</span></code></li><li class="L3"><code class="language-javascript"><span class="pln">    console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln"> str</span><span class="pun">.</span><span class="pln">indexOf</span><span class="pun">(</span><span class="pln">re</span><span class="pun">)</span><span class="pln"> </span><span class="pun">);</span><span class="pln"> </span><span class="pun">→</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span></code></li><li class="L4"><code class="language-javascript"><span class="pln">    console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln"> str</span><span class="pun">.</span><span class="pln">search</span><span class="pun">(</span><span class="pln">re</span><span class="pun">)</span><span class="pln"> </span><span class="pun">);</span><span class="pln"> </span><span class="pun">→</span><span class="pln"> </span><span class="lit">1</span></code></li><li class="L5"><code class="language-javascript"><span class="pln">    </span><span class="com">/*用indexOf方法无法使用正则，用search却可以*/</span></code></li></ol></pre><p data-anchor-id="lqwa">2 . str.match()</p><blockquote data-anchor-id="avqr" class="white-blockquote">
  <ul>
  <li>1 . 方法是做什么的 <br>
      将符合正则的字符串提取出来，按照规则组成一个数组</li>
  <li>2 . 参数：正则表达式，或者特定的字符串</li>
  <li>3 . 返回值：number（与indexOf相同，找到匹配的字符首次出现的位置，并返回其下标，如果没有找到，返回-1）  </li>
  </ul>
</blockquote><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="9x3g"><ol class="linenums"><li class="L0"><code class="language-javascript"><span class="pln">match</span><span class="pun">方法：与</span><span class="pln">split</span><span class="pun">相似，都是将字符串转换成数组</span></code></li><li class="L1"><code class="language-javascript"><span class="pln">    </span><span class="kwd">var</span><span class="pln"> str </span><span class="pun">=</span><span class="pln"> </span><span class="str">'miaov13ketahg12'</span><span class="pun">;</span></code></li><li class="L2"><code class="language-javascript"><span class="pln">    </span><span class="kwd">var</span><span class="pln"> re </span><span class="pun">=</span><span class="pln"> </span><span class="str">/\d/</span><span class="pun">;</span></code></li><li class="L3"><code class="language-javascript"></code></li><li class="L4"><code class="language-javascript"><span class="pln">    </span><span class="com">/*只传一个字符串，如果这个字符串在str中能被找到，那么返回的是传入的这个字符串，及其下标和原字符串的组合*/</span></code></li><li class="L5"><code class="language-javascript"><span class="pln">    console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln"> str</span><span class="pun">.</span><span class="pln">match</span><span class="pun">(</span><span class="str">'m'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">);</span><span class="pln"> </span><span class="pun">→</span><span class="pln"> </span><span class="pun">[</span><span class="str">"m"</span><span class="pun">,</span><span class="pln"> index</span><span class="pun">:</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> input</span><span class="pun">:</span><span class="pln"> </span><span class="str">"miaov13ketahg12"</span><span class="pun">]</span></code></li><li class="L6"><code class="language-javascript"></code></li><li class="L7"><code class="language-javascript"><span class="pln">    </span><span class="com">/*如果传入的字符串没有找到，那么返回的是一个空对象null*/</span></code></li><li class="L8"><code class="language-javascript"><span class="pln">    console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln"> str</span><span class="pun">.</span><span class="pln">match</span><span class="pun">(</span><span class="str">'ma'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">);</span><span class="pln"> </span><span class="pun">→</span><span class="pln"> </span><span class="kwd">null</span></code></li><li class="L9"><code class="language-javascript"></code></li><li class="L0"><code class="language-javascript"><span class="pln">    </span><span class="com">/*如果传入的是正则表达式，并且最后面没有“/g”，那么返回的数组有两个自定义属性：index和input;</span></code></li><li class="L1"><code class="language-javascript"><span class="com">    index就是匹配到的字符在str中的下标</span></code></li><li class="L2"><code class="language-javascript"><span class="com">    input就是原字符串str</span></code></li><li class="L3"><code class="language-javascript"><span class="com">    */</span></code></li><li class="L4"><code class="language-javascript"><span class="pln">    console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln"> str</span><span class="pun">.</span><span class="pln">match</span><span class="pun">(</span><span class="pln">re</span><span class="pun">)</span><span class="pln"> </span><span class="pun">);</span><span class="pln"> </span><span class="pun">→</span><span class="pln"> </span><span class="pun">[</span><span class="str">"1"</span><span class="pun">,</span><span class="pln"> index</span><span class="pun">:</span><span class="pln"> </span><span class="lit">5</span><span class="pun">,</span><span class="pln"> input</span><span class="pun">:</span><span class="pln"> </span><span class="str">"miaov13ketahg12"</span><span class="pun">]</span></code></li><li class="L5"><code class="language-javascript"></code></li><li class="L6"><code class="language-javascript"><span class="pln">    </span><span class="kwd">var</span><span class="pln"> re</span><span class="pun">=</span><span class="str">/\d/</span><span class="pln">g</span><span class="pun">;</span></code></li><li class="L7"><code class="language-javascript"><span class="pln">    </span><span class="com">/*</span></code></li><li class="L8"><code class="language-javascript"><span class="com">       此时获取到的是符合正则的数组，并且由于这里加了"/g"，所以即使只有一个匹配的数字，那么返回的数组就没有了index和input属性</span></code></li><li class="L9"><code class="language-javascript"><span class="com">    */</span></code></li><li class="L0"><code class="language-javascript"><span class="pln">    console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln"> str</span><span class="pun">.</span><span class="pln">match</span><span class="pun">(</span><span class="pln">re</span><span class="pun">)</span><span class="pln"> </span><span class="pun">);</span><span class="pln"> </span><span class="pun">→</span><span class="pln"> </span><span class="pun">[</span><span class="str">"1"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"3"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"1"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"2"</span><span class="pun">]</span></code></li><li class="L1"><code class="language-javascript"></code></li><li class="L2"><code class="language-javascript"></code></li><li class="L3"><code class="language-javascript"><span class="pln">    </span><span class="pun">与</span><span class="pln">split</span><span class="pun">的区别：</span></code></li><li class="L4"><code class="language-javascript"><span class="pln">    </span><span class="kwd">var</span><span class="pln"> str</span><span class="pun">=</span><span class="str">'ab1cd4efdg'</span><span class="pun">;</span></code></li><li class="L5"><code class="language-javascript"><span class="pln">    </span><span class="kwd">var</span><span class="pln"> re</span><span class="pun">=</span><span class="str">/\d/</span><span class="pln">g</span><span class="pun">;</span></code></li><li class="L6"><code class="language-javascript"><span class="pln">    </span><span class="com">/*match方法是筛选出符合规则的字符，组成一个数组*/</span></code></li><li class="L7"><code class="language-javascript"><span class="pln">    str</span><span class="pun">.</span><span class="pln">match</span><span class="pun">(</span><span class="pln">re</span><span class="pun">)</span><span class="pln"> </span><span class="pun">→</span><span class="pln"> </span><span class="pun">[</span><span class="str">"1"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"4"</span><span class="pun">]</span></code></li><li class="L8"><code class="language-javascript"><span class="pln">    </span><span class="com">/*split方法是按照正则的规则，将字符串拆分成数组*/</span></code></li><li class="L9"><code class="language-javascript"><span class="pln">    str</span><span class="pun">.</span><span class="pln">split</span><span class="pun">(</span><span class="pln">re</span><span class="pun">)</span><span class="pln"> </span><span class="pun">→</span><span class="pln"> </span><span class="pun">[</span><span class="str">"ab"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"cd"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"efdg"</span><span class="pun">]</span></code></li><li class="L0"><code class="language-javascript"></code></li><li class="L1"><code class="language-javascript"></code></li><li class="L2"><code class="language-javascript"><span class="pln">    </span><span class="com">/*join方法无法利用正则表达式，re只适用于字符串的验证*/</span></code></li><li class="L3"><code class="language-javascript"><span class="pln">    </span><span class="kwd">var</span><span class="pln"> sss</span><span class="pun">=</span><span class="pln">str</span><span class="pun">.</span><span class="pln">split</span><span class="pun">(</span><span class="pln">re</span><span class="pun">)</span></code></li><li class="L4"><code class="language-javascript"><span class="pln">    sss</span><span class="pun">.</span><span class="pln">join</span><span class="pun">(</span><span class="pln">re</span><span class="pun">)</span></code></li><li class="L5"><code class="language-javascript"><span class="pln">    </span><span class="str">"ab/\d/gcd/\d/gefdg"</span></code></li></ol></pre><p data-anchor-id="osrg">3 . str.replace()</p><blockquote data-anchor-id="7vzg" class="white-blockquote">
  <ul>
  <li>1 . 方法是做什么的 <br>
    将字符串中符合正则规则的字符串进行替换操作，并返回替换后的字符串</li>
  <li>2 . 参数： <br>
    需要传两个参数 <br>
    第一个参数：字符串或者正则表达式 <br>
    第二个参数：字符串或者有返回值的函数</li>
  <li>3 . 返回值：按照正则的规则将原字符串中的某些字符替换后的字符串</li>
  </ul>
</blockquote><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="outy"><ol class="linenums"><li class="L0"><code class="language-javascript"><span class="pln">replace</span><span class="pun">方法：常用于过滤敏感词</span></code></li><li class="L1"><code class="language-javascript"><span class="pln">  </span><span class="com">/*</span></code></li><li class="L2"><code class="language-javascript"><span class="com">   1. 当两个参数都是字符串的时候</span></code></li><li class="L3"><code class="language-javascript"><span class="com">    将str中第一个找到的 b 替换成“*”</span></code></li><li class="L4"><code class="language-javascript"><span class="com">  */</span></code></li><li class="L5"><code class="language-javascript"><span class="pln">    </span><span class="kwd">var</span><span class="pln"> str </span><span class="pun">=</span><span class="pln"> </span><span class="str">'abc1b3451'</span><span class="pun">;</span></code></li><li class="L6"><code class="language-javascript"><span class="pln">    </span><span class="kwd">var</span><span class="pln"> newStr </span><span class="pun">=</span><span class="pln"> str</span><span class="pun">.</span><span class="pln">replace</span><span class="pun">(</span><span class="str">'b'</span><span class="pun">,</span><span class="str">'*'</span><span class="pun">);</span><span class="pln"> </span><span class="pun">→</span><span class="pln"> </span><span class="str">"a*c1b3451"</span></code></li><li class="L7"><code class="language-javascript"></code></li><li class="L8"><code class="language-javascript"><span class="com">/*</span></code></li><li class="L9"><code class="language-javascript"><span class="com">    2. 第一个参数是正则表达式，第二个参数是字符串，替换的单一性</span></code></li><li class="L0"><code class="language-javascript"><span class="com">*/</span><span class="pln">  </span></code></li><li class="L1"><code class="language-javascript"><span class="pln">    </span><span class="kwd">var</span><span class="pln"> str </span><span class="pun">=</span><span class="pln"> </span><span class="str">'abc1b3451'</span><span class="pun">;</span></code></li><li class="L2"><code class="language-javascript"><span class="pln">    </span><span class="kwd">var</span><span class="pln"> re</span><span class="pun">=</span><span class="str">/b/</span><span class="pln">g</span><span class="pun">;</span></code></li><li class="L3"><code class="language-javascript"><span class="pln">    </span><span class="kwd">var</span><span class="pln"> newStr </span><span class="pun">=</span><span class="pln"> str</span><span class="pun">.</span><span class="pln">replace</span><span class="pun">(</span><span class="pln">re</span><span class="pun">,</span><span class="str">'*'</span><span class="pun">);</span><span class="pln"> </span><span class="pun">→</span><span class="pln"> </span><span class="str">"a*c1*3451"</span></code></li><li class="L4"><code class="language-javascript"></code></li><li class="L5"><code class="language-javascript"><span class="com">/*</span></code></li><li class="L6"><code class="language-javascript"><span class="com">    3. 第一个是正则表达式，第二个参数是函数的时候，可以对正则表达式筛选后的字符进一步筛选,并且筛选过后要有返回值，去替换（replace）</span></code></li><li class="L7"><code class="language-javascript"><span class="com">    每次正则在检索的时候，正则的条件满足了，就会执行一次后面的函数</span></code></li><li class="L8"><code class="language-javascript"><span class="com">*/</span></code></li><li class="L9"><code class="language-javascript"><span class="pln">    </span><span class="kwd">var</span><span class="pln"> str </span><span class="pun">=</span><span class="pln"> </span><span class="str">'18612987012'</span><span class="pun">;</span></code></li><li class="L0"><code class="language-javascript"><span class="pln">    </span><span class="kwd">var</span><span class="pln"> newStr3 </span><span class="pun">=</span><span class="pln"> str</span><span class="pun">.</span><span class="pln">replace</span><span class="pun">(</span><span class="str">/\d/</span><span class="pln">g</span><span class="pun">,</span><span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">$0</span><span class="pun">,</span><span class="pln">$1</span><span class="pun">,</span><span class="pln">$2</span><span class="pun">){</span></code></li><li class="L1"><code class="language-javascript"><span class="pln">		console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln"> $1 </span><span class="pun">);</span><span class="pln"> </span><span class="pun">→</span><span class="pln"> </span><span class="lit">0</span><span class="pun">，</span><span class="lit">1</span><span class="pun">，</span><span class="lit">2</span><span class="pun">，</span><span class="lit">3</span><span class="pun">，</span><span class="lit">4</span><span class="pun">，</span><span class="lit">5</span><span class="pun">，</span><span class="lit">6</span><span class="pun">，</span><span class="lit">7</span><span class="pun">，..</span><span class="lit">10</span><span class="pun">(因为有</span><span class="lit">11</span><span class="pun">位满足正则的字符，那么会走这里</span><span class="lit">11</span><span class="pun">次)</span></code></li><li class="L2"><code class="language-javascript"><span class="pln">		</span><span class="com">//这里一定要有返回值，对满足条件的字符进行替换</span></code></li><li class="L3"><code class="language-javascript"><span class="pln">		</span><span class="kwd">return</span><span class="pln"> </span><span class="pun">(</span><span class="pln">$1 </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">2</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> $1 </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">7</span><span class="pun">)</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> $0 </span><span class="pun">:</span><span class="pln"> </span><span class="str">'*'</span><span class="pun">;</span></code></li><li class="L4"><code class="language-javascript"><span class="pln">	</span><span class="pun">});</span></code></li><li class="L5"><code class="language-javascript"><span class="pln">	</span><span class="kwd">var</span><span class="pln"> newStr3 </span><span class="pun">=</span><span class="pln"> str</span><span class="pun">.</span><span class="pln">replace</span><span class="pun">(</span><span class="str">/\d+/</span><span class="pln">g</span><span class="pun">,</span><span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">$0</span><span class="pun">,</span><span class="pln">$1</span><span class="pun">,</span><span class="pln">$2</span><span class="pun">){</span></code></li><li class="L6"><code class="language-javascript"><span class="pln">                                   </span><span class="pun">这个</span><span class="pln">$0</span><span class="pun">是</span><span class="pln">str</span><span class="pun">中满足正则的字符</span></code></li><li class="L7"><code class="language-javascript"><span class="pln">                        </span><span class="pun">这个</span><span class="pln">$1</span><span class="pun">是</span><span class="pln"> str</span><span class="pun">中满足正则的字符</span><span class="pln"> </span><span class="pun">在</span><span class="pln">str</span><span class="pun">中的下标</span></code></li><li class="L8"><code class="language-javascript"><span class="pln">                               </span><span class="pun">这个</span><span class="pln">$2</span><span class="pun">是原字符串</span><span class="pln">str</span></code></li><li class="L9"><code class="language-javascript"><span class="pln">		console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln"> $1 </span><span class="pun">);</span><span class="pln"> </span><span class="pun">→</span><span class="pln"> </span><span class="lit">0</span><span class="pun">(因为整个字符串都满足条件，正则只找到了一个，所以这个函数只会走一次)</span></code></li><li class="L0"><code class="language-javascript"><span class="pln">        </span><span class="com">//根据下标进行进一步的操作，将满足的字符的下标进行范围限制，然后进行替换</span></code></li><li class="L1"><code class="language-javascript"><span class="pln">        </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">(</span><span class="pln">$1 </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">2</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> $1 </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">7</span><span class="pun">)</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> $0 </span><span class="pun">:</span><span class="pln"> </span><span class="str">'*'</span><span class="pun">;</span></code></li><li class="L2"><code class="language-javascript"><span class="pln">    </span><span class="pun">});</span></code></li></ol></pre><hr><div class="md-section-divider"></div><h3 data-anchor-id="8ydy" id="4-正则表达式的方法"><strong>4. 正则表达式的方法</strong></h3><p data-anchor-id="9dej">上面的方法都是字符串的方法，利用正则进行筛选，是字符串利用正则 <br>
下面就是正则校验字符串 <br>
3 . re.test(str)</p><blockquote data-anchor-id="8toa" class="white-blockquote">
  <ul>
  <li>1 . 方法是做什么的 <br>
      传入str，看这个字符串是否满足正则的规则</li>
  <li>2 . 参数： <br>
      被校验的字符串str</li>
  <li>3 . 返回值：如果被校验的str满足re的条件，那么返回true，否则返回false</li>
  </ul>
</blockquote><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="qhr8"><ol class="linenums"><li class="L0"><code class="language-javascript"><span class="pun">只要符合正则的规则，就会返回</span><span class="kwd">true</span></code></li><li class="L1"><code class="language-javascript"><span class="pln">    </span><span class="kwd">var</span><span class="pln"> str </span><span class="pun">=</span><span class="pln"> </span><span class="str">'m3iaovk3etang12'</span><span class="pun">;</span></code></li><li class="L2"><code class="language-javascript"><span class="pln">    </span><span class="kwd">var</span><span class="pln"> re </span><span class="pun">=</span><span class="pln"> </span><span class="str">/3/</span><span class="pun">;</span></code></li><li class="L3"><code class="language-javascript"><span class="pln">    console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln"> re</span><span class="pun">.</span><span class="pln">test</span><span class="pun">(</span><span class="pln">str</span><span class="pun">)</span><span class="pln"> </span><span class="pun">);</span><span class="pln"> </span><span class="pun">→</span><span class="pln"> </span><span class="kwd">true</span></code></li><li class="L4"><code class="language-javascript"><span class="pln">    re</span><span class="pun">=</span><span class="str">/\s/</span><span class="pun">;</span></code></li><li class="L5"><code class="language-javascript"><span class="pln">    console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln"> re</span><span class="pun">.</span><span class="pln">test</span><span class="pun">(</span><span class="pln">str</span><span class="pun">)</span><span class="pln"> </span><span class="pun">);</span><span class="pln"> </span><span class="pun">→</span><span class="pln"> </span><span class="kwd">false</span></code></li></ol></pre><hr><table data-anchor-id="oity" class="table table-striped-white table-bordered">
<thead>
<tr>
 <th style="text-align:center;">正则的方法</th>
 <th style="text-align:center;">说明</th>
</tr>
</thead>
<tbody><tr>
 <td style="text-align:center;">re.test(str)</td>
 <td style="text-align:center;">在被查找的字符串中是否存在符合正则的内容；如果存在则返回 true，否则就返回 false</td>
</tr>
<tr>
 <td style="text-align:center;">re.exec(str)</td>
 <td style="text-align:center;">利用正则表达式查找字符串，将符合规则的字符添加到一个含有index和input属性的数组</td>
</tr>
</tbody></table><hr><div class="md-section-divider"></div><h3 data-anchor-id="5zik" id="当正则表达式后面有g的时候需要特殊注意一下"><strong>当正则表达式后面有g的时候，需要特殊注意一下</strong></h3><p data-anchor-id="965e">注：当re后面有g的时候，re的方法都会保存上一次的匹配索引 <br>
    例：</p><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="xlxv"><ol class="linenums"><li class="L0"><code class="language-javascript"><span class="pln">test</span><span class="pun">方法：</span></code></li><li class="L1"><code class="language-javascript"><span class="pln">    </span><span class="kwd">var</span><span class="pln"> str</span><span class="pun">=</span><span class="str">'1m2n3qp'</span><span class="pun">;</span></code></li><li class="L2"><code class="language-javascript"><span class="pln">    </span><span class="kwd">var</span><span class="pln"> re</span><span class="pun">=</span><span class="str">/\d/</span><span class="pln">g</span><span class="pun">;</span></code></li><li class="L3"><code class="language-javascript"></code></li><li class="L4"><code class="language-javascript"><span class="pln">    console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">re</span><span class="pun">.</span><span class="pln">test</span><span class="pun">(</span><span class="pln">str</span><span class="pun">))</span><span class="pln"> </span><span class="pun">→</span><span class="pln"> </span><span class="kwd">true</span></code></li><li class="L5"><code class="language-javascript"><span class="pln">    console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">re</span><span class="pun">.</span><span class="pln">lastIndex</span><span class="pun">)</span><span class="pln"> </span><span class="pun">→</span><span class="pln"> </span><span class="lit">1</span></code></li><li class="L6"><code class="language-javascript"><span class="pln">    console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">re</span><span class="pun">.</span><span class="pln">test</span><span class="pun">(</span><span class="pln">str</span><span class="pun">))</span><span class="pln"> </span><span class="pun">→</span><span class="pln"> </span><span class="kwd">true</span></code></li><li class="L7"><code class="language-javascript"><span class="pln">    console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">re</span><span class="pun">.</span><span class="pln">lastIndex</span><span class="pun">)</span><span class="pln"> </span><span class="pun">→</span><span class="pln"> </span><span class="lit">3</span></code></li><li class="L8"><code class="language-javascript"><span class="pln">    console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">re</span><span class="pun">.</span><span class="pln">test</span><span class="pun">(</span><span class="pln">str</span><span class="pun">))</span><span class="pln"> </span><span class="pun">→</span><span class="pln"> </span><span class="kwd">true</span></code></li><li class="L9"><code class="language-javascript"><span class="pln">    console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">re</span><span class="pun">.</span><span class="pln">lastIndex</span><span class="pun">)</span><span class="pln"> </span><span class="pun">→</span><span class="pln"> </span><span class="lit">5</span></code></li><li class="L0"><code class="language-javascript"><span class="pln">    console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">re</span><span class="pun">.</span><span class="pln">test</span><span class="pun">(</span><span class="pln">str</span><span class="pun">))</span><span class="pln"> </span><span class="pun">→</span><span class="pln"> </span><span class="kwd">false</span></code></li><li class="L1"><code class="language-javascript"><span class="pln">    console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">re</span><span class="pun">.</span><span class="pln">lastIndex</span><span class="pun">)</span><span class="pln"> </span><span class="pun">→</span><span class="pln"> </span><span class="lit">0</span></code></li><li class="L2"><code class="language-javascript"></code></li><li class="L3"><code class="language-javascript"><span class="pln">    </span><span class="lit">1m2n3qp</span></code></li><li class="L4"><code class="language-javascript"><span class="pln">    </span><span class="pun">↑↑↑↑↑↑↑</span></code></li><li class="L5"><code class="language-javascript"><span class="pln">    </span><span class="lit">0123456</span></code></li></ol></pre><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="dkf8"><ol class="linenums"><li class="L0"><code class="language-javascript"><span class="pln">exec</span><span class="pun">方法：</span></code></li><li class="L1"><code class="language-javascript"><span class="pln">     </span><span class="kwd">var</span><span class="pln"> str</span><span class="pun">=</span><span class="str">'cat,bat,nat,lat,vat'</span><span class="pun">;</span></code></li><li class="L2"><code class="language-javascript"><span class="pln">     </span><span class="kwd">var</span><span class="pln"> re</span><span class="pun">=</span><span class="str">/.at/</span><span class="pln">g</span><span class="pun">;</span></code></li><li class="L3"><code class="language-javascript"></code></li><li class="L4"><code class="language-javascript"><span class="pln">    console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">re</span><span class="pun">.</span><span class="pln">exec</span><span class="pun">(</span><span class="pln">str</span><span class="pun">))</span><span class="pln"> </span><span class="pun">→</span><span class="pln"> </span><span class="pun">[</span><span class="str">"cat"</span><span class="pun">,</span><span class="pln"> index</span><span class="pun">:</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> input</span><span class="pun">:</span><span class="pln"> </span><span class="str">"cat,bat,nat,lat,vat"</span><span class="pun">]</span></code></li><li class="L5"><code class="language-javascript"><span class="pln">    console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">re</span><span class="pun">.</span><span class="pln">lastIndex</span><span class="pun">)</span><span class="pln"> </span><span class="pun">→</span><span class="pln"> </span><span class="lit">3</span></code></li><li class="L6"><code class="language-javascript"><span class="pln">    console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">re</span><span class="pun">.</span><span class="pln">exec</span><span class="pun">(</span><span class="pln">str</span><span class="pun">))</span><span class="pln"> </span><span class="pun">→</span><span class="pln"> </span><span class="pun">[</span><span class="str">"bat"</span><span class="pun">,</span><span class="pln"> index</span><span class="pun">:</span><span class="pln"> </span><span class="lit">4</span><span class="pun">,</span><span class="pln"> input</span><span class="pun">:</span><span class="pln"> </span><span class="str">"cat,bat,nat,lat,vat"</span><span class="pun">]</span></code></li><li class="L7"><code class="language-javascript"><span class="pln">    console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">re</span><span class="pun">.</span><span class="pln">lastIndex</span><span class="pun">)</span><span class="pln"> </span><span class="pun">→</span><span class="pln"> </span><span class="lit">7</span></code></li><li class="L8"><code class="language-javascript"><span class="pln">    console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">re</span><span class="pun">.</span><span class="pln">exec</span><span class="pun">(</span><span class="pln">str</span><span class="pun">))</span><span class="pln"> </span><span class="pun">→</span><span class="pln"> </span><span class="pun">[</span><span class="str">"nat"</span><span class="pun">,</span><span class="pln"> index</span><span class="pun">:</span><span class="pln"> </span><span class="lit">8</span><span class="pun">,</span><span class="pln"> input</span><span class="pun">:</span><span class="pln"> </span><span class="str">"cat,bat,nat,lat,vat"</span><span class="pun">]</span></code></li><li class="L9"><code class="language-javascript"><span class="pln">    console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">re</span><span class="pun">.</span><span class="pln">lastIndex</span><span class="pun">)</span><span class="pln"> </span><span class="pun">→</span><span class="pln"> </span><span class="lit">11</span></code></li><li class="L0"><code class="language-javascript"></code></li><li class="L1"><code class="language-javascript"><span class="pln">   </span><span class="str">'cat,bat,nat,lat,vat'</span><span class="pln"> </span></code></li><li class="L2"><code class="language-javascript"><span class="pln">    </span><span class="pun">↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑</span></code></li><li class="L3"><code class="language-javascript"><span class="pln">    </span><span class="lit">012</span><span class="pun">第一个满足条件的</span></code></li><li class="L4"><code class="language-javascript"><span class="pln">    </span><span class="pun">第二次就从第</span><span class="lit">3</span><span class="pun">位“,”开始进行查找，所以</span><span class="pln">lastIndex</span><span class="pun">就是</span><span class="lit">3</span></code></li><li class="L5"><code class="language-javascript"><span class="pln">        </span><span class="lit">456</span></code></li><li class="L6"><code class="language-javascript"><span class="pln">        </span><span class="pun">第三次就从</span><span class="pln">bat</span><span class="pun">后面一位开始进行查找，所以</span><span class="pln">lastIndex</span><span class="pun">就是</span><span class="lit">7</span></code></li></ol></pre><p data-anchor-id="2z34">总结： <br>
<strong><em>当有g的时候，第0位满足正则，再次执行时，会从第1位开始向后匹配，找到匹配的位置后，返回true，直到最后一个true，也就是匹配到“3”的时候，lastIndex就从第5位“q”开始，后面已经没有匹配的字符了，那么就会返回false</em></strong></p><div class="md-section-divider"></div><h3 data-anchor-id="ekd8" id="实例">实例：</h3><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="e374"><ol class="linenums"><li class="L0"><code class="language-javascript"><span class="kwd">var</span><span class="pln"> re</span><span class="pun">=</span><span class="str">/he/</span><span class="pun">;</span></code></li><li class="L1"><code class="language-javascript"><span class="com">//只匹配‘he’这个字符串</span></code></li><li class="L2"><code class="language-javascript"><span class="kwd">var</span><span class="pln"> str</span><span class="pun">=</span><span class="str">'he'</span><span class="pun">;</span></code></li><li class="L3"><code class="language-javascript"><span class="pln">console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">re</span><span class="pun">.</span><span class="pln">test</span><span class="pun">(</span><span class="pln">str</span><span class="pun">))</span><span class="com">//true;</span></code></li><li class="L4"><code class="language-javascript"><span class="pln">str</span><span class="pun">=</span><span class="str">'HE'</span></code></li><li class="L5"><code class="language-javascript"><span class="pln">console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">re</span><span class="pun">.</span><span class="pln">test</span><span class="pun">(</span><span class="pln">str</span><span class="pun">))</span><span class="com">//false;</span></code></li><li class="L6"><code class="language-javascript"><span class="pln">re</span><span class="pun">=</span><span class="str">/he/</span><span class="pln">i</span><span class="pun">;</span><span class="com">//这里会匹配He,hE,HE,he</span></code></li><li class="L7"><code class="language-javascript"><span class="pln">console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">re</span><span class="pun">.</span><span class="pln">test</span><span class="pun">(</span><span class="pln">str</span><span class="pun">))</span><span class="com">//true;</span></code></li><li class="L8"><code class="language-javascript"><span class="pln">str </span><span class="pun">=</span><span class="pln"> </span><span class="str">"Certainly!He loves her!"</span><span class="pun">;</span><span class="pln"> </span></code></li><li class="L9"><code class="language-javascript"><span class="pln">console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">re</span><span class="pun">.</span><span class="pln">test</span><span class="pun">(</span><span class="pln">str</span><span class="pun">))</span><span class="com">//true;</span></code></li><li class="L0"><code class="language-javascript"><span class="com">//只要包含he(HE)就是符合的，返回就是true</span></code></li><li class="L1"><code class="language-javascript"><span class="com">//如果想精确匹配这两个字符，需要用^和$</span></code></li><li class="L2"><code class="language-javascript"><span class="pln">re</span><span class="pun">=</span><span class="str">/^he/</span><span class="pln">i</span><span class="pun">;</span></code></li><li class="L3"><code class="language-javascript"><span class="com">//只加^的时候，表示必须以‘he(HE)’开头，如果不是，就返回false</span></code></li><li class="L4"><code class="language-javascript"><span class="pln">console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">re</span><span class="pun">.</span><span class="pln">test</span><span class="pun">(</span><span class="pln">str</span><span class="pun">))</span><span class="com">//false;</span></code></li><li class="L5"><code class="language-javascript"><span class="com">//因为he不在str的行首位置，所以返回fasle</span></code></li><li class="L6"><code class="language-javascript"><span class="pln">str</span><span class="pun">＝</span><span class="str">'he is a boy'</span></code></li><li class="L7"><code class="language-javascript"><span class="pln">console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">re</span><span class="pun">.</span><span class="pln">test</span><span class="pun">(</span><span class="pln">str</span><span class="pun">))</span><span class="com">//true;</span></code></li><li class="L8"><code class="language-javascript"><span class="com">//如果想精确的找到he这个字符，还需要用$作为结尾</span></code></li><li class="L9"><code class="language-javascript"><span class="pln">re</span><span class="pun">=</span><span class="str">/^he$/</span><span class="pln">gi</span><span class="pun">;</span></code></li><li class="L0"><code class="language-javascript"><span class="pln">console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">re</span><span class="pun">.</span><span class="pln">test</span><span class="pun">(</span><span class="pln">str</span><span class="pun">))</span><span class="com">//false;</span></code></li><li class="L1"><code class="language-javascript"><span class="pln">str</span><span class="pun">=</span><span class="str">'He'</span><span class="pun">;</span></code></li><li class="L2"><code class="language-javascript"><span class="pln">console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">re</span><span class="pun">.</span><span class="pln">test</span><span class="pun">(</span><span class="pln">str</span><span class="pun">))</span><span class="com">//true;</span></code></li><li class="L3"><code class="language-javascript"></code></li><li class="L4"><code class="language-javascript"></code></li><li class="L5"><code class="language-javascript"><span class="pln">re</span><span class="pun">=</span><span class="str">/\s/</span><span class="pun">;</span><span class="pln">\s</span><span class="pun">匹配任意空白字符，如空格、制表符(</span><span class="typ">Tab</span><span class="pun">)、换页符等</span></code></li><li class="L6"><code class="language-javascript"><span class="pln">str</span><span class="pun">=</span><span class="str">"user Name"</span><span class="pun">;</span></code></li><li class="L7"><code class="language-javascript"><span class="pln">console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">re</span><span class="pun">.</span><span class="pln">test</span><span class="pun">(</span><span class="pln">str</span><span class="pun">))</span><span class="com">//true;</span></code></li><li class="L8"><code class="language-javascript"><span class="pln">str</span><span class="pun">=</span><span class="str">"user   Name"</span><span class="pun">;</span><span class="com">//制表符Tab</span></code></li><li class="L9"><code class="language-javascript"><span class="pln">console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">re</span><span class="pun">.</span><span class="pln">test</span><span class="pun">(</span><span class="pln">str</span><span class="pun">))</span><span class="com">//true;</span></code></li><li class="L0"><code class="language-javascript"></code></li><li class="L1"><code class="language-javascript"></code></li><li class="L2"><code class="language-javascript"><span class="pln">re</span><span class="pun">=</span><span class="str">/^[a-z]/</span><span class="pln">i</span><span class="pun">;</span></code></li><li class="L3"><code class="language-javascript"><span class="com">//变量名必须以字母开头</span></code></li><li class="L4"><code class="language-javascript"><span class="pln">str</span><span class="pun">=</span><span class="str">"varet"</span></code></li><li class="L5"><code class="language-javascript"><span class="pln">console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">re</span><span class="pun">.</span><span class="pln">test</span><span class="pun">(</span><span class="pln">str</span><span class="pun">))</span><span class="com">//true;</span></code></li><li class="L6"><code class="language-javascript"><span class="pln">str</span><span class="pun">=</span><span class="str">"123ads"</span><span class="pun">;</span></code></li><li class="L7"><code class="language-javascript"><span class="pln">console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">re</span><span class="pun">.</span><span class="pln">test</span><span class="pun">(</span><span class="pln">str</span><span class="pun">))</span><span class="com">//false;</span></code></li><li class="L8"><code class="language-javascript"></code></li><li class="L9"><code class="language-javascript"></code></li></ol></pre><p data-anchor-id="eap1">栗子：</p><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="5tqt"><ol class="linenums"><li class="L0"><code class="language-javascript"><span class="pln">osVersion </span><span class="pun">=</span><span class="pln"> </span><span class="str">"Ubuntu 8.10"</span><span class="pun">;</span><span class="com">//取出主版本号和次版本号  </span></code></li><li class="L1"><code class="language-javascript"><span class="pln">re </span><span class="pun">=</span><span class="pln"> </span><span class="str">/^[a-z]+\s+(\d+)\.(\d+)$/</span><span class="pln">i</span><span class="pun">;</span></code></li><li class="L2"><code class="language-javascript"><span class="pln">                  </span><span class="pun">↑</span><span class="pln">      </span><span class="pun">↑</span></code></li><li class="L3"><code class="language-javascript"><span class="pln">        </span><span class="pun">在正则中，（）代表着子项</span></code></li><li class="L4"><code class="language-javascript"><span class="com">/*这个正则的含义是：首字符必须是一位或者多位字母，中间要有一个或者多个空白符，然后必须是一个或者多个数字，然后加上一个"."(这个"."在正则中是元字符，要使用的话需要用"\."),"."后面又是一位或者多位数字*/</span></code></li><li class="L5"><code class="language-javascript"><span class="pln">arr </span><span class="pun">=</span><span class="pln"> re</span><span class="pun">.</span><span class="pln">exec</span><span class="pun">(</span><span class="pln">osVersion</span><span class="pun">);</span><span class="pln">  </span></code></li><li class="L6"><code class="language-javascript"><span class="pln">alert</span><span class="pun">(</span><span class="pln">arr</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]);</span><span class="com">//完整的osVersion  </span></code></li><li class="L7"><code class="language-javascript"><span class="pln">alert</span><span class="pun">(</span><span class="pln">arr</span><span class="pun">[</span><span class="lit">1</span><span class="pun">]);</span><span class="com">//8  </span></code></li><li class="L8"><code class="language-javascript"><span class="pln">alert</span><span class="pun">(</span><span class="pln">arr</span><span class="pun">[</span><span class="lit">2</span><span class="pun">]);</span><span class="com">//10 </span></code></li></ol></pre><hr><blockquote data-anchor-id="303t" class="white-blockquote">
  <p><strong>注：当字符串不匹配re时,exec方法将返回null</strong></p>
</blockquote><hr><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="9cym"><ol class="linenums"><li class="L0"><code class="language-javascript"></code></li><li class="L1"><code class="language-javascript"><span class="com">//replace方法,用于替换字符串  </span></code></li><li class="L2"><code class="language-javascript"><span class="kwd">var</span><span class="pln"> str </span><span class="pun">=</span><span class="str">"some money"</span><span class="pun">;</span><span class="pln">  </span></code></li><li class="L3"><code class="language-javascript"><span class="pln">alert</span><span class="pun">(</span><span class="pln">str</span><span class="pun">.</span><span class="pln">replace</span><span class="pun">(</span><span class="str">"some"</span><span class="pun">,</span><span class="str">"much"</span><span class="pun">));</span><span class="com">//much money  </span></code></li><li class="L4"><code class="language-javascript"><span class="com">//replace的第一个参数可以为正则表达式  </span></code></li><li class="L5"><code class="language-javascript"><span class="kwd">var</span><span class="pln"> re </span><span class="pun">=</span><span class="pln"> </span><span class="str">/\s/</span><span class="pun">;</span><span class="com">//空白字符  </span></code></li><li class="L6"><code class="language-javascript"><span class="pln">alert</span><span class="pun">(</span><span class="pln">str</span><span class="pun">.</span><span class="pln">replace</span><span class="pun">(</span><span class="pln">re</span><span class="pun">,</span><span class="str">"%"</span><span class="pun">));</span><span class="com">//some%money  </span></code></li><li class="L7"><code class="language-javascript"><span class="com">//在不知道字符串中有多少空白字符时,正则表达式极为方便  </span></code></li><li class="L8"><code class="language-javascript"><span class="pln">str </span><span class="pun">=</span><span class="str">"some some             \tsome\t\f"</span><span class="pun">;</span><span class="pln">  </span></code></li><li class="L9"><code class="language-javascript"><span class="pln">re </span><span class="pun">=</span><span class="pln"> </span><span class="str">/\s+/</span><span class="pun">;</span><span class="pln">  </span></code></li><li class="L0"><code class="language-javascript"><span class="pln">alert</span><span class="pun">(</span><span class="pln">str</span><span class="pun">.</span><span class="pln">replace</span><span class="pun">(</span><span class="pln">re</span><span class="pun">,</span><span class="str">"#"</span><span class="pun">));</span><span class="com">//但这样只会将第一次出现的一堆空白字符替换掉  </span></code></li><li class="L1"><code class="language-javascript"><span class="com">//因为一个正则表达式只能进行一次匹配,\s+匹配了第一个空格后就退出了  </span></code></li><li class="L2"><code class="language-javascript"><span class="pln">re </span><span class="pun">=</span><span class="pln"> </span><span class="str">/\s+/</span><span class="pln">g</span><span class="pun">;</span><span class="com">//g,全局标志,将使正则表达式匹配整个字符串  </span></code></li><li class="L3"><code class="language-javascript"><span class="pln">alert</span><span class="pun">(</span><span class="pln">str</span><span class="pun">.</span><span class="pln">replace</span><span class="pun">(</span><span class="pln">re</span><span class="pun">,</span><span class="str">"@"</span><span class="pun">));</span><span class="com">//some@some@some@  </span></code></li><li class="L4"><code class="language-javascript"><span class="com">//另一个与之相似的是split  </span></code></li><li class="L5"><code class="language-javascript"><span class="kwd">var</span><span class="pln"> str </span><span class="pun">=</span><span class="pln"> </span><span class="str">"a-bd-c"</span><span class="pun">;</span><span class="pln">  </span></code></li><li class="L6"><code class="language-javascript"><span class="kwd">var</span><span class="pln"> arr </span><span class="pun">=</span><span class="pln"> str</span><span class="pun">.</span><span class="pln">split</span><span class="pun">(</span><span class="str">"-"</span><span class="pun">);</span><span class="com">//返回["a","bd","c"]  </span></code></li><li class="L7"><code class="language-javascript"><span class="com">//如果str是用户输入的,他可能输入a-bd-c也可能输入a bd c或a_bd_c,但不会是abdc(这样就说他输错了)  </span></code></li><li class="L8"><code class="language-javascript"><span class="pln">str </span><span class="pun">=</span><span class="pln"> </span><span class="str">"a_db-c"</span><span class="pun">;</span><span class="com">//用户以他喜欢的方式加分隔符s  </span></code></li><li class="L9"><code class="language-javascript"><span class="pln">re</span><span class="pun">=</span><span class="str">/[^a-z]/</span><span class="pln">i</span><span class="pun">;</span><span class="com">//前面我们说^表示字符开始,但在[]里它表示一个负字符集  </span></code></li><li class="L0"><code class="language-javascript"><span class="com">//匹配任何不在指定范围内的任意字符,这里将匹配除字母处的所有字符  </span></code></li><li class="L1"><code class="language-javascript"><span class="pln">arr </span><span class="pun">=</span><span class="pln"> str</span><span class="pun">.</span><span class="pln">split</span><span class="pun">(</span><span class="pln">re</span><span class="pun">);</span><span class="com">//仍返回["a","bd","c"];  </span></code></li><li class="L2"><code class="language-javascript"><span class="com">//在字符串中查找时我们常用indexOf,与之对应用于正则查找的方法是search  </span></code></li><li class="L3"><code class="language-javascript"><span class="pln">str </span><span class="pun">=</span><span class="pln"> </span><span class="str">"My age is 18.Golden age!"</span><span class="pun">;</span><span class="com">//年龄不是一定的,我们用indexOf不能查找它的位置  </span></code></li><li class="L4"><code class="language-javascript"><span class="pln">re </span><span class="pun">=</span><span class="pln"> </span><span class="str">/\d+/</span><span class="pun">;</span><span class="pln">  </span></code></li><li class="L5"><code class="language-javascript"><span class="pln">alert</span><span class="pun">(</span><span class="pln">str</span><span class="pun">.</span><span class="pln">search</span><span class="pun">(</span><span class="pln">re</span><span class="pun">));</span><span class="com">//返回查找到的字符串开始下标10  </span></code></li><li class="L6"><code class="language-javascript"><span class="com">//注意,因为查找本身就是出现第一次就立即返回,所以无需在search时使用g标志  </span></code></li><li class="L7"><code class="language-javascript"><span class="com">//下面的代码虽然不出错,但g标志是多余的  </span></code></li><li class="L8"><code class="language-javascript"><span class="pln">re</span><span class="pun">=</span><span class="str">/\d+/</span><span class="pln">g</span><span class="pun">;</span><span class="pln">  </span></code></li><li class="L9"><code class="language-javascript"><span class="pln">alert</span><span class="pun">(</span><span class="pln">str</span><span class="pun">.</span><span class="pln">search</span><span class="pun">(</span><span class="pln">re</span><span class="pun">));</span><span class="com">//仍然是10</span></code></li></ol></pre></div>
</body>
</html>